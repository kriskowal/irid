(function(t){var v,z,A,B,b,u,w,x,C,n,D,E,F,G,p=t.parseFloat,f=t.parseInt,d=t.undefined,l=Math.round,q=Math.max,r=Math.min,s=Math.floor;b=t.Colour=function(a){if(!(this instanceof b))return new b(a);if(!a)throw"Invalid colour specification";if(a instanceof b)this.hsl=a.hsl,this.rgb=a.rgb;else if(a.h!==d&&a.s!==d&&a.l!==d)this.hsl=a;else if("string"==typeof a){if(this.rgb=v(a)||D(a)||v(b.swatches[a.toLowerCase()]),!this.rgb&&(this.hsl=E(a),!this.hsl))throw"Invalid colour specification";}else a.r!==
d&&a.g!==d&&a.b!==d&&(this.rgb=a)};b.prototype={_makeRGB:function(){"undefined"==typeof this.rgb&&(this.rgb=B(this.hsl))},_makeHSL:function(){"undefined"==typeof this.hsl&&(this.hsl=A(this.rgb))},luma:function(){var a=this.rgb;this._makeRGB();return(0.3*a.r+0.59*a.g+0.11*a.b)/255},red:function(a){this._makeRGB();return"undefined"==typeof a?this.rgb.r:new b({r:f(a,10),g:this.rgb.g,b:this.rgb.b,a:this.rgb.a})},green:function(a){this._makeRGB();return"undefined"==typeof a?this.rgb.g:new b({r:this.rgb.r,
g:f(a,10),b:this.rgb.b,a:this.rgb.a})},blue:function(a){this._makeRGB();return"undefined"==typeof a?this.rgb.b:new b({r:this.rgb.r,g:this.rgb.g,b:f(a,10),a:this.rgb.a})},hue:function(a){this._makeHSL();return"undefined"==typeof a?this.hsl.h:new b({h:p(a),s:this.hsl.s,l:this.hsl.l,a:this.hsl.a})},saturation:function(a){this._makeHSL();return"undefined"==typeof a?this.hsl.s:new b({h:this.hsl.h,s:p(a),l:this.hsl.l,a:this.hsl.a})},lightness:function(a){this._makeHSL();return"undefined"==typeof a?this.hsl.l:
new b({h:this.hsl.h,s:this.hsl.s,l:p(a),a:this.hsl.a})},alpha:function(a){if(0===arguments.length)return(this.hsl||this.rgb).a;a=null===a||a===d?d:p(a);return this.hsl?new b({h:this.hsl.h,s:this.hsl.s,l:this.hsl.l,a:a}):new b({r:this.rgb.r,g:this.rgb.g,b:this.rgb.b,a:a})},lighten:function(a){this._makeHSL();return new b({h:this.hsl.h,s:this.hsl.s,l:this.hsl.l+(1-this.hsl.l)*a,a:this.hsl.a})},darken:function(a){this._makeHSL();return new b({h:this.hsl.h,s:this.hsl.s,l:this.hsl.l*(1-a),a:this.hsl.a})},
invert:function(){this._makeRGB();return new b({r:255-this.rgb.r,g:255-this.rgb.g,b:255-this.rgb.b,a:this.rgb.a})},complement:function(){this._makeHSL();return new b({h:(this.hsl.h+0.5)%1,s:this.hsl.s,l:this.hsl.l,a:this.hsl.a})},desaturate:function(){this._makeHSL();return new b({h:this.hsl.h,s:0,l:this.hsl.l,a:this.hsl.a})},contrast:function(a,c){return new b(0.6<this.luma()?c||"#111":a||"#eee")},analagous:function(){return[this,this.hue(this.hue()-1/12),this.hue(this.hue()+1/12)]},tetrad:function(){var a=
this.hue();return[this,this.hue(a+0.25),this.hue(a+0.5),this.hue(a+0.75)]},rectTetrad:function(){return[this,this.hue(this.hue()+1/6),this.hue(this.hue()+0.5),this.hue(this.hue()+4/6)]},triad:function(){return[this,this.hue(this.hue()-1/3),this.hue(this.hue()+1/3)]},splitComplementary:function(){return[this,this.hue(this.hue()-5/12),this.hue(this.hue()+5/12)]},blend:function(a,c){"undefined"==typeof c&&(c=0.5);var y=1-c;a=new b(a);return new b({r:Math.floor(this.red()*y+a.red()*c),g:Math.floor(this.green()*
y+a.green()*c),b:Math.floor(this.blue()*y+a.blue()*c)})},toString:function(){return this.toHexString()},toHexString:function(){this._makeRGB();return z(this.rgb)},toRGBString:function(){this._makeRGB();return F(this.rgb)},toHSLString:function(){this._makeHSL();return G(this.hsl)}};n=function(a){1==a.length&&(a+=a);return q(0,r(255,f(a,16)))};u=function(a){var c="%"==a.charAt(a.length-1);c&&(a=a.slice(0,a.length-1));return q(0,r(255,l(f(a,10)*(c?2.55:1))))};w=function(a){return a?q(0,r(1,p(a))):d};
C=function(a){a=f(a,10)%360;0>a&&(a+=360);return a/360};x=function(a){return q(0,r(100,f(a,10)))/100};v=b.hexToRGB=function(a){return(a=/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i.exec(a)||/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i.exec(a))?{r:n(a[1]),g:n(a[2]),b:n(a[3]),a:"undefined"==typeof a[4]||""==a[4]?d:n(a[4])/255}:d};D=b.cssRGBToRGB=function(a){return(a=/^rgba?\(\s*(-?\d+%?)\s*,\s*(-?\d+%?)\s*,\s*(-?\d+%?)\s*(?:,\s*(-?\d*(?:\.\d+)?)?)?\s*\)$/.exec(a))?{r:u(a[1]),g:u(a[2]),b:u(a[3]),
a:w(a[4])}:d};F=b.rgbToCSSRGB=function(a){return"rgb"+(a.a?"a":"")+"("+l(a.r)+", "+l(a.g)+", "+l(a.b)+(a.a?", "+a.a.toFixed(2):"")+")"};G=b.hslToCSSHSL=function(a){return"hsl"+(a.a?"a":"")+"("+l(360*a.h)+", "+l(100*a.s)+"%, "+l(100*a.l)+"%"+(a.a?", "+a.a.toFixed(2):"")+")"};E=b.cssHSLToHSL=function(a){return(a=/^hsla?\(\s*(-?\d+)\s*,\s*(-?\d+%)\s*,\s*(-?\d+%)\s*(?:,\s*(-?\d*(?:\.\d+)?)?)?\s*\)$/.exec(a))?{h:C(a[1]),s:x(a[2]),l:x(a[3]),a:w(a[4])}:d};z=b.rgbToHex=function(a){var c="#"+(16>a.r?"0":"")+
a.r.toString(16)+(16>a.g?"0":"")+a.g.toString(16)+(16>a.b?"0":"")+a.b.toString(16);a.a!==d&&(a=s(255*a.a),c+=(16>a?"0":"")+a.toString(16));return c};A=b.rgbToHSL=function(a){var c,b,m,h,e,k=a.r/255,d=a.g/255,g=a.b/255,f=h=0,l=0;c=q(k,d,g);b=r(k,d,g);l=(b+c)/2;0<l&&(f=m=c-b,0<f&&(f/=0.5>=l?c+b:2-c-b,h=(c-k)/m,e=(c-d)/m,m=(c-g)/m,h=(k==c?d==b?5+m:1-e:d==c?g==b?1+h:3-m:k==b?3+e:5-h)/6));return{h:h%1,s:f,l:l,a:a.a}};B=b.hslToRGB=function(a){var c,b,d,h,e,k,f,g;g=a.h%1;c=a.s;e=a.l;0>g&&(g+=1);b=d=h=e;
c=0.5>=e?e*(1+c):e+c-e*c;if(0<c)switch(e=e+e-c,k=(c-e)/c,g*=6,f=s(g),k=c*k*(g-f),g=e+k,k=c-k,f){case 0:b=c;d=g;h=e;break;case 1:b=k;d=c;h=e;break;case 2:b=e;d=c;h=g;break;case 3:b=e;d=k;h=c;break;case 4:b=g;d=e;h=c;break;case 5:b=c,d=e,h=k}return{r:s(255*b),g:s(255*d),b:s(255*h),a:a.a}};b.swatches={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",
brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",
darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",
khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",
maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",
paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",
teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}})(this);
