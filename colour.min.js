(function(t){var v,y,z,A,b,u,w,x,B,n,C,D,E,F,p=t.parseFloat,f=t.parseInt,c=t.undefined,m=Math.round,q=Math.max,r=Math.min,s=Math.floor;b=t.Colour=function(a){if(!(this instanceof b))return new b(a);if(!a)throw"Invalid colour specification";if(a instanceof b)this.hsl=a.hsl,this.rgb=a.rgb;else if(a.h!==c&&a.s!==c&&a.l!==c)this.hsl=a;else if("string"==typeof a){if(this.rgb=v(a)||C(a)||v(b.swatches[a.toLowerCase()]),!this.rgb&&(this.hsl=D(a),!this.hsl))throw"Invalid colour specification";}else a.r!==
c&&a.g!==c&&a.b!==c&&(this.rgb=a)};b.prototype={_makeRGB:function(){"undefined"==typeof this.rgb&&(this.rgb=A(this.hsl))},_makeHSL:function(){"undefined"==typeof this.hsl&&(this.hsl=z(this.rgb))},luma:function(){var a=this.rgb;this._makeRGB();return(0.3*a.r+0.59*a.g+0.11*a.b)/255},red:function(a){this._makeRGB();return"undefined"==typeof a?this.rgb.r:new b({r:f(a,10),g:this.rgb.g,b:this.rgb.b,a:this.rgb.a})},green:function(a){this._makeRGB();return"undefined"==typeof a?this.rgb.g:new b({r:this.rgb.r,
g:f(a,10),b:this.rgb.b,a:this.rgb.a})},blue:function(a){this._makeRGB();return"undefined"==typeof a?this.rgb.b:new b({r:this.rgb.r,g:this.rgb.g,b:f(a,10),a:this.rgb.a})},hue:function(a){this._makeHSL();return"undefined"==typeof a?this.hsl.h:new b({h:p(a),s:this.hsl.s,l:this.hsl.l,a:this.hsl.a})},saturation:function(a){this._makeHSL();return"undefined"==typeof a?this.hsl.s:new b({h:this.hsl.h,s:p(a),l:this.hsl.l,a:this.hsl.a})},lightness:function(a){this._makeHSL();return"undefined"==typeof a?this.hsl.l:
new b({h:this.hsl.h,s:this.hsl.s,l:p(a),a:this.hsl.a})},alpha:function(a){if(0===arguments.length)return(this.hsl||this.rgb).a;a=null===a||a===c?c:p(a);return this.hsl?new b({h:this.hsl.h,s:this.hsl.s,l:this.hsl.l,a:a}):new b({r:this.rgb.r,g:this.rgb.g,b:this.rgb.b,a:a})},lighten:function(a){this._makeHSL();return new b({h:this.hsl.h,s:this.hsl.s,l:this.hsl.l+(1-this.hsl.l)*a,a:this.hsl.a})},darken:function(a){this._makeHSL();return new b({h:this.hsl.h,s:this.hsl.s,l:this.hsl.l*(1-a),a:this.hsl.a})},
invert:function(){this._makeRGB();return new b({r:255-this.rgb.r,g:255-this.rgb.g,b:255-this.rgb.b,a:this.rgb.a})},complement:function(){this._makeHSL();return new b({h:(this.hsl.h+0.5)%1,s:this.hsl.s,l:this.hsl.l,a:this.hsl.a})},desaturate:function(){this._makeHSL();return new b({h:this.hsl.h,s:0,l:this.hsl.l,a:this.hsl.a})},contrast:function(a,e){return new b(0.6<this.luma()?e||"#111":a||"#eee")},analagous:function(){return[this,this.hue(this.hue()-1/12),this.hue(this.hue()+1/12)]},tetrad:function(){var a=
this.hue();return[this,this.hue(a+0.25),this.hue(a+0.5),this.hue(a+0.75)]},rectTetrad:function(){return[this,this.hue(this.hue()+1/6),this.hue(this.hue()+0.5),this.hue(this.hue()+4/6)]},triad:function(){return[this,this.hue(this.hue()-1/3),this.hue(this.hue()+1/3)]},splitComplementary:function(){return[this,this.hue(this.hue()-5/12),this.hue(this.hue()+5/12)]},blend:function(a){a=new b(a);return new b({r:Math.floor((this.red()+a.red())/2),g:Math.floor((this.green()+a.green())/2),b:Math.floor((this.blue()+
a.blue())/2)})},toString:function(){return this.toHexString()},toHexString:function(){this._makeRGB();return y(this.rgb)},toRGBString:function(){this._makeRGB();return E(this.rgb)},toHSLString:function(){this._makeHSL();return F(this.hsl)}};n=function(a){1==a.length&&(a+=a);return q(0,r(255,f(a,16)))};u=function(a){var e="%"==a.charAt(a.length-1);e&&(a=a.slice(0,a.length-1));return q(0,r(255,m(f(a,10)*(e?2.55:1))))};w=function(a){return a?q(0,r(1,p(a))):c};B=function(a){a=f(a,10)%360;0>a&&(a+=360);
return a/360};x=function(a){return q(0,r(100,f(a,10)))/100};v=b.hexToRGB=function(a){return(a=/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i.exec(a)||/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i.exec(a))?{r:n(a[1]),g:n(a[2]),b:n(a[3]),a:"undefined"==typeof a[4]||""==a[4]?c:n(a[4])/255}:c};C=b.cssRGBToRGB=function(a){return(a=/^rgba?\(\s*(-?\d+%?)\s*,\s*(-?\d+%?)\s*,\s*(-?\d+%?)\s*(?:,\s*(-?\d*(?:\.\d+)?)?)?\s*\)$/.exec(a))?{r:u(a[1]),g:u(a[2]),b:u(a[3]),a:w(a[4])}:c};E=b.rgbToCSSRGB=function(a){return"rgb"+
(a.a?"a":"")+"("+m(a.r)+", "+m(a.g)+", "+m(a.b)+(a.a?", "+a.a.toFixed(2):"")+")"};F=b.hslToCSSHSL=function(a){return"hsl"+(a.a?"a":"")+"("+m(360*a.h)+", "+m(100*a.s)+"%, "+m(100*a.l)+"%"+(a.a?", "+a.a.toFixed(2):"")+")"};D=b.cssHSLToHSL=function(a){return(a=/^hsla?\(\s*(-?\d+)\s*,\s*(-?\d+%)\s*,\s*(-?\d+%)\s*(?:,\s*(-?\d*(?:\.\d+)?)?)?\s*\)$/.exec(a))?{h:B(a[1]),s:x(a[2]),l:x(a[3]),a:w(a[4])}:c};y=b.rgbToHex=function(a){var e="#"+(16>a.r?"0":"")+a.r.toString(16)+(16>a.g?"0":"")+a.g.toString(16)+(16>
a.b?"0":"")+a.b.toString(16);a.a!==c&&(a=s(255*a.a),e+=(16>a?"0":"")+a.toString(16));return e};z=b.rgbToHSL=function(a){var e,b,h,k,d,l=a.r/255,c=a.g/255,g=a.b/255,f=k=0,m=0;e=q(l,c,g);b=r(l,c,g);m=(b+e)/2;0<m&&(f=h=e-b,0<f&&(f/=0.5>=m?e+b:2-e-b,k=(e-l)/h,d=(e-c)/h,h=(e-g)/h,k=(l==e?c==b?5+h:1-d:c==e?g==b?1+k:3-h:l==b?3+d:5-k)/6));return{h:k%1,s:f,l:m,a:a.a}};A=b.hslToRGB=function(a){var b,c,h,k,d,l,f,g;g=a.h%1;b=a.s;d=a.l;0>g&&(g+=1);c=h=k=d;b=0.5>=d?d*(1+b):d+b-d*b;if(0<b)switch(d=d+d-b,l=(b-d)/
b,g*=6,f=s(g),l=b*l*(g-f),g=d+l,l=b-l,f){case 0:c=b;h=g;k=d;break;case 1:c=l;h=b;k=d;break;case 2:c=d;h=b;k=g;break;case 3:c=d;h=l;k=b;break;case 4:c=g;h=d;k=b;break;case 5:c=b,h=d,k=l}return{r:s(255*c),g:s(255*h),b:s(255*k),a:a.a}};b.swatches={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",
chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",
darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",
lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",
mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",
peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",
wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}})(this);
